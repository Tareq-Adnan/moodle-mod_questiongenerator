/**
 * TODO describe module questiongenerator
 *
 * @module     mod_questiongenerator/questiongenerator
 * @copyright  2024 YOUR NAME <your@email.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_questiongenerator/questiongenerator",["jquery","core/ajax"],(function($,Ajax){return{init:function(cmid){console.log(cmid),$("#categoryDropdown").on("change",(function(){var request={methodname:"mod_questiongenerator_get_generated_questions",args:{categoryid:$(this).val(),cmid:cmid}};Ajax.call([request])[0].done((function(response){var tableBody=$("#questionTable tbody");tableBody.empty(),response.forEach((function(question){console.log(question);var difficultyButton="";difficultyButton=question.difficulty?(difficultyButton=question.difficulty.toLowerCase()).charAt(0).toUpperCase()+difficultyButton.slice(1):'<button data-question-id="'+question.questionid+'" class="btn btn-primary check-difficulty">Check Difficulty</button>';var row="<tr><td>"+question.question+"</td><td>"+question.options+"</td><td>"+question.answer+"</td><td>"+difficultyButton+"</td></tr>";tableBody.append(row)}))})).fail((function(error){console.log("Error fetching questions:",error)}))})),$(document).on("click",".check-difficulty",(function(){var questionId=$(this).data("question-id"),parentTd=$('button[data-question-id="'+questionId+'"]').closest("td");parentTd.html('<div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div>');var request={methodname:"mod_questiongenerator_check_dificulty_level",args:{questionid:questionId}};console.log("Request:",request),Ajax.call([request])[0].done((function(response){console.log("Response:",response),response?parentTd.html(response):parentTd.html("Difficulty not found")})).fail((function(error){console.log("Error fetching difficulty level:",error),parentTd.html("Error fetching difficulty level")})),console.log("Question ID:",questionId)}))}}}));

//# sourceMappingURL=questiongenerator.min.js.map